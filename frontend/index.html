<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NurgaVoice - AI Transcription</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé§</text></svg>">
    <link href="css/style.css" rel="stylesheet">
</head>
<<body>
    <div class="container">
        <header>
            <h1>üé§ NurgaVoice</h1>
            <p>AI Transcription & Summarization</p>
        </header>

        <main>
            <section class="upload-section">
                <h2>Upload File</h2>
                <form id="uploadForm" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="fileInput">Audio/Video File</label>
                        <input type="file" id="fileInput" name="file" 
                               accept=".mp3,.wav,.mp4,.avi,.m4a,.flac,.ogg" required>
                        <small>Supported: MP3, WAV, MP4, AVI, M4A, FLAC, OGG (Max: <span id="maxFileSize">512</span>MB)</small>
                    </div>

                    <div class="form-group">
                        <label for="languageSelect">Language</label>
                        <select id="languageSelect" name="language"></select>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="enableSummary" name="enable_summary" checked>
                            Generate Summary
                        </label>
                    </div>

                    <div class="form-group" id="summaryOptionsDiv">
                        <label for="summaryLengthSelect">Summary Length</label>
                        <select id="summaryLengthSelect" name="summary_length"></select>
                    </div>

                    <button type="submit" id="uploadBtn">Upload & Process</button>
                </form>
            </section>

            <section class="progress-section" id="progressSection" style="display: none;">
                <h2>Processing Status</h2>
                
                <div id="uploadProgressSection" style="display: none;">
                    <label>Upload Progress</label>
                    <div class="progress-bar">
                        <div id="uploadProgressBar" style="width: 0%">0%</div>
                    </div>
                </div>
                
                <div id="processingProgressSection">
                    <label>Processing Progress</label>
                    <div class="progress-bar">
                        <div id="progressBar" style="width: 0%">0%</div>
                    </div>
                </div>
                
                <div id="statusMessage" class="status-message">Waiting to start...</div>
                <div id="fileInfo" style="display: none;">
                    <small>Processing: <span id="fileName"></span></small>
                </div>
                <div id="completionInfo" style="display: none;">
                    <div class="success-message">‚úì Processing completed successfully!</div>
                    <div class="completion-details">
                        <small>Processing time: <span id="processingTime">--</span></small>
                        <small>Completed at: <span id="completionTime">--</span></small>
                    </div>
                </div>
            </section>

            <div id="uploadPrompt" class="upload-prompt">
                <p>üìÅ Upload an audio or video file to get started</p>
            </div>
        </main>

        <section class="results-section" id="resultsSection" style="display: none;">
            <div class="results-header">
                <h2>Results</h2>
                <div class="download-buttons">
                    <button id="downloadTxt">Download TXT</button>
                    <button id="downloadMd">Download MD</button>
                    <button id="downloadPdf">Download PDF</button>
                </div>
            </div>
            
            <div class="results-content">
                <div class="result-section">
                    <h3>Summary</h3>
                    <div id="summaryContent" class="content-box"></div>
                </div>

                <div class="result-section">
                    <h3>Full Transcription</h3>
                    <div id="transcriptionContent" class="content-box scrollable"></div>
                </div>

                <div class="result-section">
                    <h3>File Information</h3>
                    <div id="metadataContent" class="metadata-grid"></div>
                </div>

                <div class="result-section" id="timestampSection" style="display: none;">
                    <h3>Timestamped Transcription</h3>
                    <div id="timestampContent" class="content-box scrollable"></div>
                </div>
            </div>
        </section>

        <div id="errorSection" class="error-section" style="display: none;">
            <h3>‚ùå Processing Error</h3>
            <p id="errorMessage"></p>
        </div>
    </div>

    <footer>
        <p>NurgaVoice - Powered by WhisperX & Llama.cpp</p>
        <p><small>‚ö†Ô∏è This project uses AI and is in the research stage. Results may contain inaccuracies.</small></p>
    </footer>

    <script src="js/config.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
